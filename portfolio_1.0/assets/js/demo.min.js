{const e={map:(e,t,s,i,r)=>(e-t)*(r-i)/(s-t)+i,lerp:(e,t,s)=>(1-s)*e+s*t,getRandomFloat:(e,t)=>(Math.random()*(t-e)+e).toFixed(2)},t=document.body;let s;const i=()=>s={width:window.innerWidth,height:window.innerHeight};let r,n;i(),window.addEventListener("resize",i);let o=0;const l=()=>r=window.pageYOffset||document.documentElement.scrollTop;window.addEventListener("scroll",l);class h{constructor(t){this.DOM={el:t},this.DOM.image=this.DOM.el.querySelector(".content__item-img"),this.DOM.imageWrapper=this.DOM.image.parentNode,this.DOM.title=this.DOM.el.querySelector(".content__item-title"),this.renderedStyles={imageScale:{previous:0,current:0,ease:.1,setValue:()=>{const t=e.map(this.props.top-r,s.height,-1*this.props.height,1,1.5);return Math.max(Math.min(t,1.5),1)}},titleTranslationY:{previous:0,current:0,ease:.1,fromValue:Number(e.getRandomFloat(30,400)),setValue:()=>{const t=this.renderedStyles.titleTranslationY.fromValue,i=-1*t,n=e.map(this.props.top-r,s.height,-1*this.props.height,t,i);return t<0?Math.min(Math.max(n,t),i):Math.max(Math.min(n,t),i)}}},this.getSize(),this.update(),this.observer=new IntersectionObserver(e=>{e.forEach(e=>this.isVisible=e.intersectionRatio>0)}),this.observer.observe(this.DOM.el),this.initEvents()}update(){for(const e in this.renderedStyles)this.renderedStyles[e].current=this.renderedStyles[e].previous=this.renderedStyles[e].setValue();this.layout()}getSize(){const e=this.DOM.el.getBoundingClientRect();this.props={height:e.height,top:r+e.top}}initEvents(){window.addEventListener("resize",()=>this.resize())}resize(){this.getSize(),this.update()}render(){for(const t in this.renderedStyles)this.renderedStyles[t].current=this.renderedStyles[t].setValue(),this.renderedStyles[t].previous=e.lerp(this.renderedStyles[t].previous,this.renderedStyles[t].current,this.renderedStyles[t].ease);this.layout()}layout(){this.DOM.image.style.transform=`scale3d(${this.renderedStyles.imageScale.previous},${this.renderedStyles.imageScale.previous},1)`,this.DOM.title.style.transform=`translate3d(0,${this.renderedStyles.titleTranslationY.previous}px,0)`}}class d{constructor(){this.DOM={main:document.querySelector("main")},this.DOM.scrollable=this.DOM.main.querySelector("div[data-scroll]"),this.items=[],this.DOM.content=this.DOM.main.querySelector(".content"),[...this.DOM.content.querySelectorAll(".content__item")].forEach(e=>this.items.push(new h(e))),this.renderedStyles={translationY:{previous:0,current:0,ease:.1,setValue:()=>r}},this.setSize(),this.update(),this.style(),this.initEvents(),requestAnimationFrame(()=>this.render())}update(){for(const e in this.renderedStyles)this.renderedStyles[e].current=this.renderedStyles[e].previous=this.renderedStyles[e].setValue();this.layout()}layout(){this.DOM.scrollable.style.transform=`translate3d(0,${-1*this.renderedStyles.translationY.previous}px,0)`}setSize(){t.style.height=this.DOM.scrollable.scrollHeight+"px"}style(){this.DOM.main.style.position="fixed",this.DOM.main.style.width=this.DOM.main.style.height="100%",this.DOM.main.style.top=this.DOM.main.style.left=0,this.DOM.main.style.overflow="hidden"}initEvents(){window.addEventListener("resize",()=>this.setSize())}render(){o=Math.abs(r-n),n=r;for(const t in this.renderedStyles)this.renderedStyles[t].current=this.renderedStyles[t].setValue(),this.renderedStyles[t].previous=e.lerp(this.renderedStyles[t].previous,this.renderedStyles[t].current,this.renderedStyles[t].ease);this.layout();for(const e of this.items)e.isVisible?e.insideViewport?e.render():(e.insideViewport=!0,e.update()):e.insideViewport=!1;requestAnimationFrame(()=>this.render())}}(()=>new Promise((e,t)=>{imagesLoaded(document.querySelectorAll(".content__item-img"),{background:!0},e)}))().then(()=>{document.body.classList.remove("loading"),l(),n=r,new d})}